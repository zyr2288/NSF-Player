<!DOCTYPE html>
<html>

<head>
	<meta charset='utf-8'>
	<meta http-equiv='X-UA-Compatible' content='IE=edge'>
	<title>测试页面</title>
	<meta name='viewport' content='width=device-width, initial-scale=1'>

	<!-- <script src="my-lib/Waves/2A03/DPCM.js"></script>
	<script src="my-lib/Waves/2A03/Square.js"></script>
	<script src="my-lib/Waves/2A03/Triangle.js"></script>
	<script src="my-lib/Waves/2A03/Noise.js"></script>
	<script src="my-lib/Waves/2A03/C2A03Mixer.js"></script>

	<script src="my-lib/Waves/VRC6/Square.js"></script>
	<script src="my-lib/Waves/VRC6/Sawtooth.js"></script>
	<script src="my-lib/Waves/VRC6/VRC6Mixer.js"></script>

	<script src="my-lib/Waves/Mixer.js"></script>
	<script src="my-lib/Waves/BlipBuffer.js"></script>

	<script src='my-lib/APU.js'></script>
	<script src="my-lib/APU_Const.js"></script>
	<script src="my-lib/CPU.js"></script>
	<script src="my-lib/NSF.js"></script>
	<script src="my-lib/NSFFile.js"></script>
	<script src="my-lib/Utils.js"></script> -->

	<script src="./bundle.js"></script>
</head>

<body>
	<input type="file" id="nsfFile">
	<button onclick="play()">启动</button>
	<button onclick="preview()">上一首</button>
	<button onclick="next()">下一首</button>
	<button onclick="test()">测试按钮</button>
	<br>
	<span id="debug"></span>
	<script>
		var nsf = new NSFPlayer();

		document.getElementById("nsfFile").addEventListener("change", (event) => {
			let data = event.target.files[0];
			var reader = new FileReader();
			reader.readAsArrayBuffer(data);
			reader.onload = (evt) => {
				this.nsf.nsfFile.LoadFile(evt.target.result);
			}
		});

		function play() {
			nsf.Play(0);
		}

		function preview() {
			nsf.Preview();
		}

		function next() {
			nsf.Next();
		}
	</script>
</body>

</html>